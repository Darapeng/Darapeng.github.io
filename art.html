<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>作品分享互動網頁</title>
    <link rel="icon" type="image/png" href="palette.png">

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #BEE7FF;
            padding: 20px;
        }

        .container {
            width: 70%;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
        }

        h1, h2 { text-align: center; }

        .top-bar {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-bottom: 10px;
        }

        .art-display {
            width: 100%;
            height: 300px;
            border: 2px dashed #aaa;
            border-radius: 10px;
            object-fit: contain;
            margin-bottom: 15px;
        }

        .work-list img {
            width: 120px;
            height: 120px;
            object-fit: cover;
            margin: 5px;
            cursor: pointer;
            border-radius: 8px;
            border: 2px solid #ccc;
        }

        textarea {
            width: 100%;
            padding: 10px;
        }

        button {
            padding: 8px 15px;
            cursor: pointer;
        }

        .delete-btn {
            background-color: #f44336;
            color: white;
            border: none;
            border-radius: 6px;
        }

        .upload-btn {
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 6px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>作品分享互動網頁</h1>

    <!-- 上方按鈕區 -->
    <div class="top-bar">
        <button class="delete-btn" onclick="deleteWork()">刪除作品</button>

        <input type="file" id="fileInput" accept="image/*" hidden>
        <button class="upload-btn" onclick="document.getElementById('fileInput').click();">
            上傳作品
        </button>
    </div>

    <!-- 作品預覽 -->
    <img id="preview" class="art-display">

    <h3>創作理念</h3>
    <textarea rows="4" placeholder="輸入創作理念（示意）"></textarea>

    <button onclick="addWork()">加入作品列表</button>

    <hr>

    <h2>作品列表（點擊選取）</h2>
    <div id="workList" class="work-list"></div>
</div>

<script>
let works = JSON.parse(localStorage.getItem("works")) || [];
let currentImage = "";

// 載入作品
window.onload = function () {
    works.forEach(addImageToList);
};

// 上傳圖片
document.getElementById("fileInput").addEventListener("change", function(e) {
    const file = e.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function () {
        currentImage = reader.result;
        document.getElementById("preview").src = currentImage;
    };
    reader.readAsDataURL(file);
});

// 加入作品
function addWork() {
    if (!currentImage) {
        alert("請先上傳作品！");
        return;
    }

    works.push(currentImage);
    localStorage.setItem("works", JSON.stringify(works));
    addImageToList(currentImage);
    currentImage = "";
}

// 顯示作品
function addImageToList(imageData) {
    const img = document.createElement("img");
    img.src = imageData;

    img.onclick = function () {
        currentImage = imageData;
        document.getElementById("preview").src = imageData;
    };

    document.getElementById("workList").appendChild(img);
}

// 刪除作品
function deleteWork() {
    if (!currentImage) {
        alert("請先點擊要刪除的作品！");
        return;
    }

    if (!confirm("確定要刪除這件作品嗎？")) return;

    works = works.filter(img => img !== currentImage);
    localStorage.setItem("works", JSON.stringify(works));

    document.getElementById("workList").innerHTML = "";
    works.forEach(addImageToList);

    document.getElementById("preview").src = "";
    currentImage = "";
}
</script>

</body>
</html>
